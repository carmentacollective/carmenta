# ============================================================================
# CARMENTA ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env.local and fill in your actual values.
# Never commit .env.local - it contains secrets!
# ============================================================================

# ----------------------------------------------------------------------------
# CORE AI SERVICES
# ----------------------------------------------------------------------------

# OpenRouter API Key (current provider)
# Used for LLM inference across multiple models
# Get yours at https://openrouter.ai/keys
OPENROUTER_API_KEY=your_openrouter_api_key_here

# Vercel AI Gateway API Key (alternative provider)
# Zero markup, native Vercel integration
# Get yours at https://vercel.com/ai-gateway
# AI_GATEWAY_API_KEY=your_vercel_ai_gateway_key_here


# ----------------------------------------------------------------------------
# AUTHENTICATION
# ----------------------------------------------------------------------------

# Clerk Authentication
# The app gracefully handles missing Clerk keys:
# - Without keys: App runs, but auth-protected features (/connect API) will fail
# - With keys: Full authentication enabled
#
# This supports git worktrees, forks, and local development without auth setup.
#
# To enable authentication:
# 1. Create application at https://dashboard.clerk.com/apps/new
# 2. Enable Email and Google OAuth in "User & Authentication"
# 3. Copy API keys from "API Keys" section
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=your_clerk_publishable_key_here
CLERK_SECRET_KEY=your_clerk_secret_key_here

# Note: Auth URLs (/enter, /exit) are hardcoded in app/layout.tsx
# No environment variables needed for routing


# ----------------------------------------------------------------------------
# APPLICATION URL
# ----------------------------------------------------------------------------

# Public URL of your application
# REQUIRED in production for OAuth callback URL generation
# Must match the domain registered in OAuth provider apps
# Examples:
# - Production: https://carmenta.ai
# - Staging: https://staging.carmenta.ai
# - Local dev: http://localhost:3000 (can be omitted, will use request origin)
NEXT_PUBLIC_APP_URL=https://carmenta.ai


# ----------------------------------------------------------------------------
# OAUTH INTEGRATIONS
# ----------------------------------------------------------------------------
# OAuth credentials for external service integrations
# Each service requires OAuth app creation in their developer portal
# IMPORTANT: Redirect URI must be: {NEXT_PUBLIC_APP_URL}/integrations/oauth/callback

# Notion OAuth
# Create OAuth app at https://www.notion.so/my-integrations
# Redirect URI: https://yourdomain.com/integrations/oauth/callback
NOTION_CLIENT_ID=your_notion_client_id_here
NOTION_CLIENT_SECRET=your_notion_client_secret_here

# ClickUp OAuth
# Create OAuth app at https://app.clickup.com/settings/apps
# Redirect URI: https://yourdomain.com/integrations/oauth/callback
CLICKUP_CLIENT_ID=your_clickup_client_id_here
CLICKUP_CLIENT_SECRET=your_clickup_client_secret_here

# Slack OAuth
# Create app at https://api.slack.com/apps
# Redirect URI: https://yourdomain.com/integrations/oauth/callback
SLACK_CLIENT_ID=your_slack_client_id_here
SLACK_CLIENT_SECRET=your_slack_client_secret_here

# Dropbox OAuth
# Create app at https://www.dropbox.com/developers/apps
# Redirect URI: https://yourdomain.com/integrations/oauth/callback
DROPBOX_CLIENT_ID=your_dropbox_client_id_here
DROPBOX_CLIENT_SECRET=your_dropbox_client_secret_here

# Google Calendar & Contacts OAuth (Sensitive Scopes)
# Create OAuth app at https://console.cloud.google.com/apis/credentials
# Enable Calendar API and People API in your Google Cloud project
# Redirect URI: https://yourdomain.com/integrations/oauth/callback
GOOGLE_SENSITIVE_CLIENT_ID=your_google_oauth_client_id_here
GOOGLE_SENSITIVE_CLIENT_SECRET=your_google_oauth_client_secret_here

# Gmail OAuth (Restricted Scopes)
# Uses same Google Cloud project as Calendar/Contacts, but separate credentials
# Redirect URI: https://yourdomain.com/integrations/oauth/callback
# Note: Restricted scopes require Google verification before public use
GOOGLE_RESTRICTED_CLIENT_ID=your_google_oauth_client_id_here
GOOGLE_RESTRICTED_CLIENT_SECRET=your_google_oauth_client_secret_here


# ----------------------------------------------------------------------------
# DATABASE & STORAGE
# ----------------------------------------------------------------------------

# Supabase (PostgreSQL + Auth + Storage)
# Create project at https://supabase.com/dashboard
# Get credentials from Settings > API
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url_here
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here


# ----------------------------------------------------------------------------
# ANALYTICS & MONITORING
# ----------------------------------------------------------------------------

# PostHog Analytics
# Only active in production (NODE_ENV=production) to avoid dev traffic
# Get credentials at https://app.posthog.com/project/settings
NEXT_PUBLIC_POSTHOG_KEY=your_posthog_project_api_key_here
NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com

# Sentry Error Tracking
# Enabled automatically in production (NODE_ENV=production)
# Create Next.js project at https://sentry.io
SENTRY_DSN=your_sentry_dsn_here
NEXT_PUBLIC_SENTRY_DSN=your_sentry_dsn_here

# Optional: Sentry auth token for source map uploads (CI/CD)
# Create at https://sentry.io/settings/auth-tokens/
# SENTRY_AUTH_TOKEN=your_sentry_auth_token_here

# Braintrust AI Evaluation
# Sign up at https://braintrustdata.com for prompt evaluation
BRAINTRUST_API_KEY=your_braintrust_api_key_here

# Marker.io Visual Feedback
# Create project at https://app.marker.io
# Get project ID from Settings > Widget > Installation
# Enables visual bug reporting with screenshots, console logs, and session replay
NEXT_PUBLIC_MARKER_PROJECT_ID=your_marker_project_id_here


# ----------------------------------------------------------------------------
# VOICE SERVICES
# ----------------------------------------------------------------------------

# Deepgram Speech-to-Text
# Real-time voice transcription with sub-300ms latency
# Sign up at https://console.deepgram.com
# Get API key from Settings > API Keys
# Note: NEXT_PUBLIC prefix exposes to browser (required for client-side SDK)
NEXT_PUBLIC_DEEPGRAM_API_KEY=your_deepgram_api_key_here


# ----------------------------------------------------------------------------
# OTHER SERVICES
# ----------------------------------------------------------------------------

# Giphy API Key (for GIF search)
# Get a free API key at https://developers.giphy.com/
GIPHY_API_KEY=your_giphy_api_key_here

# Imgflip (for meme generation)
# Create a free account at https://imgflip.com/signup
IMGFLIP_USERNAME=your_imgflip_username_here
IMGFLIP_PASSWORD=your_imgflip_password_here

# Parallel Web Systems
# Get API key at https://parallel.ai
PARALLEL_API_KEY=your_parallel_api_key_here


# ----------------------------------------------------------------------------
# BACKGROUND JOBS (Optional)
# ----------------------------------------------------------------------------

# Inngest (Durable Execution for Long-Running Tasks)
# Only needed if you want background mode for deep research and complex analysis
# Without these keys, all requests run inline (still works, just not durable)
# Sign up at https://www.inngest.com and create an app
# Get keys from https://app.inngest.com/env/production/manage/signing-key
# INNGEST_SIGNING_KEY=your_inngest_signing_key_here
# INNGEST_EVENT_KEY=your_inngest_event_key_here


# ----------------------------------------------------------------------------
# SECURITY
# ----------------------------------------------------------------------------

# Encryption key for sensitive data (OAuth tokens, credentials)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
ENCRYPTION_KEY=your_base64_encryption_key_here

# Server Actions encryption key for deployment consistency
# REQUIRED for self-hosted deployments (Render, Heroku, Railway, etc.)
# Without this, Server Action IDs change on each build, causing "Failed to find Server Action"
# errors when clients have cached JavaScript from a previous deployment.
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
# Must be set in BOTH build and runtime environments
NEXT_SERVER_ACTIONS_ENCRYPTION_KEY=your_server_actions_key_here


# ----------------------------------------------------------------------------
# TESTING & DEVELOPMENT
# ----------------------------------------------------------------------------

# Test user credentials for automated testing
# Used by both Vitest and Playwright E2E tests
# Create a test user in your Clerk dashboard and uncomment these lines
# TEST_USER_EMAIL=your_test_user@example.com
# TEST_USER_PASSWORD=your_test_password

# Enable live AI provider integration tests
# These make real API calls and cost money - only enable when needed
# AI_LIVE_TESTS=true
